generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Video {
  id          String   @id @default(uuid())
  title       String
  description String
  uploadedBy  String
  videoLink   String
  category    String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Subscription {
  id               String    @id @default(cuid())
  email            String
  plan             String // 'basic' or 'pro'
  amount           Int // in cents
  status           String // 'active', 'canceled', 'incomplete', etc.
  stripeId         String? // Stripe subscription ID
  customerId       String? // Stripe customer ID
  currentPeriodEnd DateTime?
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt

  @@unique([email, plan])
}
